import { DefaultLayout } from "../components/layouts/DefaultLayout"
import Head from "next/head"
import { Link as Scroll } from 'react-scroll';
import styles from "./usage.module.scss"

<div className='columns is-variable is-6'>
  <div className='column is-8-widescreen is-9-desktop is-12-tablet'>

    ## How to Use BraceBracket

    BraceBracket（ブレースブラケット）は、アプリケーションをインストールすることなくブラウザ上でスコアボードを作成・URLを発行し、スコアを編集できます。さらに、編集画面を共有し、YoutubeやTwitchのライブ配信におけるモデレーターといった外部スタッフなどリモート編集を委託することなども可能です。

    わからないことなどがあれば、[Help](../help "ヘルプ")を参照するか私たちの[Discordコミュニティ](https://discord.gg/TgMFQEqxY9 "BraceBracket Discord")までお気軽にお問い合わせください。

    <span id='create'></span>

    ### スコアボードを作成する

    早速、ページ右上の[スコアボードを作成する](../create "スコアボードを作成")からスコアボードを作成していきましょう。スコアボードを作成するCreate画面ではスコアボードの色やstartggとの連携などを設定する必要がありますが、これらの設定は後でも変更できます。

    <span id='create__layout'></span>

    #### レイアウトとカラーを選択する

    BraceBracketではスコアボードのレイアウトが4つ用意されており、Dual Layout, Single Layout, Solid Layoutでは5種類、Simple Layoutでは2種類のカラーバリエーションがあり、計17種類のレイアウトを使用することができます。使用したいレイアウトとカラーを選択してください。

    ![4種類のレイアウトとそれぞれのカラーバリエーションを選択する](/image/usage/design_colors.png)

    <span id='create__camera'></span>

    #### 大会名とカメラ、ロゴ画像を設定する

    大会名を入力するとダッシュボードで確認しやすくなる他、Dual Layoutで大会名が中央に表示されるようになります（大会ロゴを設定している場合は表示されず、また他のレイアウトでも表示されません）。

    **「カメラ及び選手のTwitter IDを表示する」** にチェックを入れると、スコアボードのレイアウトにプレイヤーカメラ配置用のガイドとTwitter IDの表示ボックスが追加され、スコアボードの編集画面にTwitter IDの編集欄が追加されます。プレイヤーカメラをガイドに対して正確に配置したい時は、OBSで以下のように設定してください。

    ![OBSの編集、変換でカメラの位置を設定する](/image/usage/set_camera.png)

    1. OBSで編集→変換→変換の編集
    2. 左のカメラは**位置20, 880 / 大きさ320, 180**、右のカメラは**位置1580, 880 / 大きさ320, 180**に設定する
    3. Dual Layout, Single Layout, Solid Layoutを使っている場合は<a href="/image/bb_mask.png" download>こちら</a>からマスク画像をダウンロードし、フィルタ→イメージマスクでダウンロードした画像を適用する

    **「大会及びスポンサーのロゴを設定する」** にチェックを入れると、大会のロゴやスポンサーのロゴをスコアボードの中央に表示することができます（表示位置はレイアウトごとに固定です）。ロゴはJPG, PNG, GIF, SVG形式でアップロードできますが、背景が透明なPNGもしくはSVG形式でアップロードすることをお勧めします。また、ロゴは複数個登録することができ、その場合は5秒ごとに表示が切り替わります（大会のロゴとスポンサーのロゴを順繰りに表示したいときなどに便利です）。また、ロゴを設定した際には視認性を向上するためドロップシャドウをつけることができます。

    <span id='create__connect'></span>

    #### トーナメント管理ツールと連携する

    スコアボードをトーナメント管理ツール（現在はstart.ggのみ対応）と連携することで、スコアを編集する際にプレイヤー名やラウンドなどをstart.ggから取得することができます。下の画像のような、情報を拾いたいトーナメントのページURLを入力してください。URLは `https://www.start.gg/tournament/トーナメント名/event/イベント名/brackets/0000000/0000000` のようになります。

    ![start.ggと連携する際は、ブラケットが出ている画面のURLを入力する](/image/usage/tourney_example.png)

    すべての項目を設定した後、 **「スコアボードを作成」** ボタンを押すとトーナメントのダッシュボードに移行します。

    <span id='dashboard'></span>

    ### ダッシュボード

    スコアボードを作成するとダッシュボードに移ります。ダッシュボードでは、スコアの編集画面へ移動、前項で行ったスコアボードの設定の編集、OBSなどの配信ソフトに配置するURLの取得ができます。

    ![ダッシュボード上部では、スコアの編集画面への移動、編集画面の共有、設定の変更ができる](/image/usage/dashboard.png)

    <span id='dashboard__edit'></span>

    #### スコアの編集と共有

    **「編集画面を開く」** ボタンを選択すると別ウインドウが開き、スコアボードの内容を編集できます。（詳細は<Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="edit">こちら</Scroll>） **編集画面共有URL** を共有することで、リモートや会場内の他のデバイスからスコアボードを編集することがきます（編集画面は内容を適用するごとに同期されます）。ただし、編集画面にパスワードをかけることなどはできず、URLを知っている人は誰でもスコアを編集できるようになってしまうため、流出にはご注意ください。また、ダッシュボードもURLを共有することで他のデバイスで開くことが可能です。

    <span id='dashboard__remote'></span>

    #### リモート編集の使用例

    編集画面共有URLを共有することで、以下のようなさまざまな形態でスコアの更新が可能になります。

    <div className='columns is-variable is-6'>
      <div className='column'>
        ![一般的な、オフ会場で配信担当者がスコア編集と配信を担当する形式](/image/usage/process_normal.jpg)

        一般的な配信担当者がスコアの編集も担当する形式です。BraceBracketはインターネットを通して更新しますが、ラグはほぼありません。
      </div>
      <div className='column'>
        ![オフ会場で配信担当者とスコア編集担当者を分ける形式](/image/usage/process_double.jpg)

        配信担当者とスコア編集担当者を分ける形式です。URLを共有することで、PCだけでなくタブレットやスマートフォンでもスコアの編集が可能になります。
      </div>
    </div>
    <div className='columns is-variable is-6'>
      <div className='column'>
        ![オンライン大会や配信の企画などで、配信者とは別に視聴者であるモデレーターがスコアを編集する形式](/image/usage/process_online.jpg)

        大会を視聴しているモデレーターにURLを共有することで、オンライン大会や配信の企画などで配信者は配信に集中し、スコア編集を任せることが可能です。
      </div>
      <div className='column'>
        ![オフ会場で配信担当者とスコア編集担当者を分ける形式](/image/usage/process_check.jpg)

        編集内容は常に同期されるので、配信担当者がスコアを編集しつつ、間違いや遅れがあればモデレーターがスコアを修正する、といった使い方もできます。
      </div>
    </div>

    <span id='dashboard__setting'></span>

    #### 設定を変更

    **「設定を変更」** ボタンを選択すると「スコアボードを作成」の時と同様のページに移動し、スコアボードのデザインや大会のロゴ画像などの設定を変更できます。

    <span id='dashboard__copy'></span>

    #### 配信ソフトに配置するURLをコピーする

    ダッシュボードの **「配信用ブラウザソースURL」** から各レイアウトの配置用URLをコピーできます。

    ![配信用ブラウザソースURLから配信ソフトに配置する各レイアウトのURLをダウンロードできる](/image/usage/obs_url.png)

    <span id='stream'></span>

    ### 配信ソフトにスコアボードを配置する


    ![OBSに配置する例。「ブラウザ」のソースを追加し、URLをペーストし、幅を1920, 高さを1080に設定する](/image/usage/obs_browser.png)

    <span id='stream__browser'></span>

    #### 配信ソフトにブラウザソースを追加

    配信用ブラウザソースURLを確認できたら、それらを配信ソフトに配置していきます。ここでは、例としてOBS Studioにスコアボードを配置します。

    1. OBSで **「ブラウザ」** ソースを追加する
    2. 先ほどコピーした配信用ブラウザソースURLをペースト
    3. 幅を1920, 1080に設定

    これだけで設定は完了です！スコアボードがうまく読み込まれないときは、ソースを再読み込みしてみるかヘルプをご覧ください。

    <span id='stream__scene'></span>

    #### 配信ソフトでのシーン設定例

    BraceBracketでは、一般的な試合中にスコアボードであるScore Layoutの他に3種類のレイアウトが用意されています。試合間に現在の試合の情報および次の試合の情報を表示するInterval Layout, 実況者やMCの情報を表示するMC Layout, そしてTop8の情報を表示するTop8 Layoutです（Top8 Layoutはstart.gg連携をしていないと使用できません）。大会の規模や配信スタッフの人員に応じて、以下の画像のように設定することを想定しています。

    ![配信の規模に合わせてさまざまなレイアウトが可能](/image/usage/situation.jpg)

    Score Layoutは試合中のみ表示し、試合間はInterval Layoutで現在の試合状況および次の試合情報を表示します。MC Layout及びTop8 LayoutはInterval Layoutと同時に表示することが可能です。進行中にOBS側で表示と非表示を切り替えるのではなく、あらかじめ上のようなシーンを作成し、切り替えて使用することをお勧めいたします。

    <span id='edit'></span>

    ### スコアを編集する

    ダッシュボードの **編集画面を開く** を押すと新しいウインドウ、もしくはタブが立ち上がり、その画面からスコアを編集することができます。

    <div className='columns is-variable is-6'>
      <div className='column'>

        <span id='edit__score'></span>

        ![Scoreの編集画面では、ラウンドや選手の情報を手動で入力できるほか、start.ggから取得することもできます](/image/usage/control_score.jpg)

        #### 編集画面: Score

        1. 編集内容をスコアボードに適用します。なお、編集してまだ適用されていない項目は薄いベージュのハイライトがつきます（この画像のRound部分のようになります）。
        2. 編集した内容を取り消し、前回適用した内容にリセットします。
        3. ラウンドの情報を入力できます。下のボタンをクリックすることで楽に入力ができますが、手入力も可能です。基本的に英文での入力を推奨しています。Set Infoも同様です。
        4. Round及びSet Infoを大文字で表記します。
        5. 1Pの情報です。上からチーム名、プレイヤー名、TwitterIDとなっています。なお、設定で「カメラ及び選手のTwitterIDを表示する」のチェックをしていない場合、TwitterIDの入力欄は表示されません。
        6. 2Pの情報です。内容は1Pと同様です。
        7. スコアの入力欄です。手入力のほか、+1及び-1ボタンでスコアの増減ができます。
        8. チーム名、プレイヤー名、TwitterID, スコアをリセットします。
        9. 1Pと2Pの情報を入れ替えます。
        10. スコアのみをリセットし、0にします。
        11. start.ggからStream Queueに入っている試合と現在進行中の試合を読み込みます。連携していない場合はこの表は表示されません。
        12. 進行中の試合です。クリックするとRound, チーム名、プレイヤー名に入力されます。
        13. 表をプレイヤー名やチーム名などで検索できます。
        14. 試合リストをstart.ggに合わせて自動で更新します。
        15. プレイヤーのデータなどを常にStream Queueの先頭のものに更新します。Stream Queueを正確に活用できる場合のみ使用してください。
      </div>

      <div className='column'>

        <span id='edit__interval'></span>

        ![Intervalの編集画面では、現在の試合状況と次の試合の情報を出し分けることができます](/image/usage/control_interval.jpg)

        #### 編集画面: Interval

        1. 編集内容をスコアボードに適用します。なお、編集してまだ適用されていない項目は薄いベージュのハイライトがつきます。
        2. 編集した内容を取り消し、前回適用した内容にリセットします。
        3. 編集画面下部の情報ではなく、Scoreのタブに入力されている現在の試合状況を表示します(Now表記)。この機能は、試合のセット間にプレイヤーやMCを映す時に便利です。
        4. Score同様、RoundとSet Infoをボタンと手入力で入力できます。
        . ラウンドの情報を入力できます。下のボタンをクリックすることで楽に入力ができますが、手入力も可能です。基本的に英文での入力を推奨しています。Set Infoも同様です。
        5. Round及びSet Infoを大文字で表記します。
        6. 1Pの情報です。上からチーム名、プレイヤー名となっています。
        6. 2Pの情報です。内容は1Pと同様です。
        8. チーム名とプレイヤー名をリセットします。
        9. 1Pと2Pの情報を入れ替えます。
        10. start.ggからStream Queueに入っている試合と現在進行中の試合を読み込みます。連携していない場合はこの表は表示されません。
        11. 進行中の試合です。クリックするとRound, チーム名、プレイヤー名に入力されます。
        12. 表をプレイヤー名やチーム名などで検索できます。
        13. 試合リストをstart.ggに合わせて自動で更新します。
        14. プレイヤーのデータなどを常にStream Queueの次に設定されている試合のものに更新します。Stream Queueを正確に活用できる場合のみ使用してください。
      </div>
    </div>

    <div className='columns is-variable is-6'>
      <div className='column'>

        <span id='edit__mc'></span>

        ![MCの編集画面では、4人までMCの情報を入力できます](/image/usage/control_mc.jpg)


        #### 編集画面: MC

        1. 編集内容をスコアボードに適用します。なお、編集してまだ適用されていない項目は薄いベージュのハイライトがつきます。
        2. 編集した内容を取り消し、前回適用した内容にリセットします。
        3. MCの所属チームを入力できます（必須項目ではありません）。
        4. MCの名前を入力できます。
        5. MCのTwitterIDを入力できます。入力しなかった場合でも、枠が表示されるのでご注意ください。

        MCの情報は必ずNo.1から順に入力してください。No.2だけが入力されている場合などは表示されません。また、何も入力されていない場合も何も表示されないのでご注意ください。
      </div>
      <div className='column'>

        <span id='edit__top8'></span>

        ![Top8の情報はstart.ggから取得して表示します](/image/usage/control_top8.jpg)

        #### 編集画面: Top8

        1. Top8の情報をstart.ggから取得し、適用します。
        2. チェックを入れると、Top8の情報を常にstart.ggから読み込み自動で適用します。

        Top8の機能はstart.ggと連携している場合のみ使用できます。

      </div>
    </div>

    スコアの編集内容は「適用する」をクリックするたびに他の編集者とも同期されます。一般的なオフ大会だけでなく、窓対抗戦などのオンライン大会や身内企画などで幅広く使えますが、URLの流出にはご注意ください。

    <span id='custom'></span>

    ### カスタマイズ

    現在、Web版BraceBracketではスコアボードのデザインのカスタマイズは行えません（開発中）。しかし、BraceBracketはオープンソースソフトウェアとして[Github](https://github.com/blacktails2/BraceBracket)にて公開しておりますので、そちらからクローンし、カスタマイズしていただくことが可能です。また、大会固有のデザインに変更したい場合は、[Discord](https://discord.gg/TgMFQEqxY9)にて開発者までお問い合わせいただければ、デザインから専用の実装までいたします。新しくデザインを制作する場合、Github内の `public>image>design_sample.ai` を用いると文字の位置を把握しながらデザインが行えます。

    <span id='custom__old'></span>

    #### 旧バージョンのBraceBracketについて

    jsonファイルおよびGoogle Spreadsheetを用いるバージョンのBraceBracketはGihutbの[Releases](https://github.com/blacktails2/BraceBracket/releases)よりダウンロードできます。

  </div>
  <div className="column is-hidden-touch is-hidden-desktop-only">
    <ul className={styles.index}>
      <li className={styles.index__head}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="create">スコアボードを作成する</Scroll></li>
      <li className={styles.index__sub}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="create__layout">レイアウトとカラーを選択する</Scroll></li>
      <li className={styles.index__sub}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="create__camera">大会名とカメラ、ロゴ画像を設定する</Scroll></li>
      <li className={styles.index__sub}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="create__connect">トーナメント管理ツールと連携する</Scroll></li>
      <li className={styles.index__head}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="dashboard">ダッシュボード</Scroll></li>
      <li className={styles.index__sub}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="dashboard__edit">スコアの編集と共有</Scroll></li>
      <li className={styles.index__sub}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="dashboard__remote">リモート編集の使用例</Scroll></li>
      <li className={styles.index__sub}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="dashboard__setting">設定を変更</Scroll></li>
      <li className={styles.index__sub}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="dashboard__copy">配信ソフトに配置するURLをコピーする</Scroll></li>
      <li className={styles.index__head}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="stream">配信ソフトにスコアボードを配置する</Scroll></li>
      <li className={styles.index__sub}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="stream__browser">配信ソフトにブラウザソースを追加</Scroll></li>
      <li className={styles.index__sub}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="stream__scene">配信ソフトでのシーン設定例</Scroll></li>
      <li className={styles.index__head}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="edit">スコアを編集する</Scroll></li>
      <li className={styles.index__sub}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="edit__score">編集画面: Score</Scroll></li>
      <li className={styles.index__sub}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="edit__interval">編集画面: Interval</Scroll></li>
      <li className={styles.index__sub}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="edit__mc">編集画面: MC</Scroll></li>
      <li className={styles.index__sub}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="edit__top8">編集画面: Top8</Scroll></li>
      <li className={styles.index__head}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="custom">カスタマイズ</Scroll></li>
      <li className={styles.index__sub}><Scroll smooth={true} duration={500} offset={-100} className="cursor-pointer" to="custom__old">旧バージョンのBraceBracketについて</Scroll></li>
    </ul>
  </div>
  <div className="column is-1 is-hidden-widescreen-only is-hidden-desktop-only is-hidden-touch"></div>
</div>



export default ({children}) => <>
  <Head>
    <title>BraceBracket | Top</title>
  </Head>
  <DefaultLayout>
    <div className="markdown">
      {children}
    </div>
  </DefaultLayout>
</>
